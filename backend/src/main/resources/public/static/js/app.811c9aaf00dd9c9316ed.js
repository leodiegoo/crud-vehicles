webpackJsonp([1],{"/KV2":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[this._m(0),this._v(" "),t("div",{staticClass:"content",attrs:{id:"content"}},[t("router-view")],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"navbar is-primary",attrs:{role:"navigation","aria-label":"main navigation"}},[t("div",{staticClass:"navbar-brand"},[t("a",{staticClass:"navbar-item",attrs:{href:"/"}},[this._v("\n        CRUD Vehicles\n      ")]),this._v(" "),t("a",{staticClass:"navbar-item",attrs:{href:"/#/vehicles"}},[this._v("\n        Vehicles\n      ")]),this._v(" "),t("a",{staticClass:"navbar-item",attrs:{href:"/#/vehicleTypes"}},[this._v("\n        Vehicle Types\n      ")])])])}]};var a=s("VU/8")({name:"App"},i,!1,function(e){s("bx+k")},null,null).exports,l=s("/ocq"),o=s("O3Oo"),c=s.n(o),r=(s("/KV2"),{name:"VehicleIndex",data:function(){return{listData:[],columns:[{field:"id",label:"ID",width:"40",numeric:!0},{field:"name",label:"Name"},{field:"desc",label:"Description"},{field:"plate",label:"Plate"}]}},created:function(){var e=this;this.$nextTick(function(){e.updateGrid()})},methods:{toForm:function(){this.$router.push({path:"/vehicles/form"})},updateGrid:function(){var e=this,t=this.$loading.open({container:null});this.axios("/vehicles").then(function(t){t.data.success&&(e.listData=t.data.model)}).finally(function(){t.close()})},editVehicle:function(e){var t=this,s=this.$refs.listVehicles.getSelected();s.id?this.$router.push({path:"/vehicles/form",query:{id:s.id}}):_.debounce(function(){t.$toast.open({message:"You need to select a vehicle",type:"is-warning",position:"is-bottom"})},500)()},deleteVehicle:function(){var e=this,t=this.$refs.listVehicles.getSelected();t.id?this.$dialog.confirm({message:"Delete vehicle ("+t.name+")?",onConfirm:function(){var s=e.$loading.open({container:null});e.axios.delete("vehicles/"+t.id).then(function(t){t.data.success?(e.$toast.open({message:"Vehicle deleted successfully",type:"is-success"}),e.$refs.listVehicles.clearSelected(),e.updateGrid()):e.$toast.open({message:response.data.message,type:"is-danger",position:"is-bottom"})}).catch(function(t){e.$toast.open({message:t.response.data.message,type:"is-danger",position:"is-bottom"})}).finally(function(){s.close()})}}):_.debounce(function(){e.$toast.open({message:"You need to select a vehicle",type:"is-warning",position:"is-bottom"})},500)()}}}),u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"section"},[s("crud-section-container",[s("h1",{staticClass:"title"},[e._v("Vehicles")]),e._v(" "),s("h2",{staticClass:"subtitle"},[e._v("\n      All vehicles registered in database\n      "),s("crud-button",{attrs:{type:"is-primary"},on:{click:e.toForm}},[e._v("Add new vehicle")])],1)]),e._v(" "),s("crud-button",{attrs:{type:"is-info"},on:{click:e.editVehicle}},[s("span",[e._v("Edit selected")])]),e._v(" "),s("crud-button",{attrs:{type:"is-danger"},on:{click:e.deleteVehicle}},[s("span",[e._v("Delete selected")])]),e._v(" "),s("crud-table",{ref:"listVehicles",staticStyle:{"margin-top":"10px"},attrs:{focusable:"","list-data":e.listData,columns:e.columns}})],1)},staticRenderFns:[]},d=s("VU/8")(r,u,!1,null,null,null).exports,p={name:"VehicleForm",data:function(){return{form:{name:"",desc:"",idVehicleType:"",plate:"",vehicleType:{}},listVehicleTypes:[],titlePage:"Add new vehicle",isUpdating:!1}},methods:{save:function(){var e=this,t=this.$loading.open({container:null}),s=this.form;delete s.vehicleType,this.isUpdating?this.axios.put("/vehicles/"+s.id,s).then(function(t){t.data.success?e.$toast.open({message:"Vehicle updated successfully",type:"is-success"}):e.$toast.open({message:response.data.message,type:"is-danger",position:"is-bottom"})}).catch(function(t){e.$toast.open({message:t.response.data.message,type:"is-danger",position:"is-bottom"})}).finally(function(){t.close()}):this.axios.post("/vehicles",s).then(function(t){t.data.success?e.$toast.open({message:"Vehicle created successfully",type:"is-success"}):e.$toast.open({message:response.data.message,type:"is-danger",position:"is-bottom"})}).catch(function(t){e.$toast.open({message:t.response.data.message,type:"is-danger",position:"is-bottom"})}).finally(function(){t.close()})},findById:function(e){var t=this,s=this.$loading.open({container:null});this.axios("/vehicles/"+e).then(function(e){e.data.success&&t.updateForm(e.data.model)}).finally(function(){s.close()})},updateForm:function(e){this.form=e},getVehicleTypes:function(){var e=this,t=this.$loading.open({container:null});this.axios("/vehicleTypes").then(function(t){t.data.success&&(e.listVehicleTypes=t.data.model)}).finally(function(){t.close()})}},mounted:function(){var e=this.$route.query;e.id&&(this.findById(e.id),this.titlePage="Update vehicle",this.isUpdating=!0),this.getVehicleTypes()}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("crud-section-container",[s("h1",{staticClass:"title"},[e._v(e._s(e.titlePage))])]),e._v(" "),s("crud-section-container",[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("form",[s("crud-input",{attrs:{label:"Name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),s("crud-input",{attrs:{label:"Description"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}}),e._v(" "),s("crud-select",{attrs:{label:"Type","list-data":e.listVehicleTypes,"value-option":"id","label-option":"name",placeholder:"Select a Vehicle"},model:{value:e.form.idVehicleType,callback:function(t){e.$set(e.form,"idVehicleType",t)},expression:"form.idVehicleType"}}),e._v(" "),s("crud-input",{attrs:{label:"Plate"},model:{value:e.form.plate,callback:function(t){e.$set(e.form,"plate",t)},expression:"form.plate"}}),e._v(" "),s("crud-button",{attrs:{type:"is-success"},on:{click:e.save}},[e._v("Save")])],1)])])])],1)},staticRenderFns:[]},f=s("VU/8")(p,h,!1,null,null,null).exports,m={name:"VehicleTypeForm",data:function(){return{form:{name:"",desc:""},listVehicleTypes:[],titlePage:"Add new type of vehicle",isUpdating:!1}},methods:{save:function(){var e=this,t=this.$loading.open({container:null}),s=this.form;this.isUpdating?this.axios.put("/vehicleTypes/"+s.id,s).then(function(t){t.data.success?e.$toast.open({message:"Type updated successfully",type:"is-success"}):e.$toast.open({message:response.data.message,type:"is-danger",position:"is-bottom"})}).catch(function(t){e.$toast.open({message:t.response.data.message,type:"is-danger",position:"is-bottom"})}).finally(function(){t.close()}):this.axios.post("/vehicleTypes",s).then(function(t){t.data.success?e.$toast.open({message:"Type created successfully",type:"is-success"}):e.$toast.open({message:response.data.message,type:"is-danger",position:"is-bottom"})}).catch(function(t){e.$toast.open({message:t.response.data.message,type:"is-danger",position:"is-bottom"})}).finally(function(){t.close()})},findById:function(e){var t=this,s=this.$loading.open({container:null});this.axios("/vehicleTypes/"+e).then(function(e){e.data.success&&t.updateForm(e.data.model)}).finally(function(){s.close()})},updateForm:function(e){this.form=e}},mounted:function(){var e=this.$route.query;e.id&&(this.findById(e.id),this.titlePage="Update type of vehicle",this.isUpdating=!0)}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("crud-section-container",[s("h1",{staticClass:"title"},[e._v(e._s(e.titlePage))])]),e._v(" "),s("crud-section-container",[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("form",[s("crud-input",{attrs:{label:"Name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),e._v(" "),s("crud-input",{attrs:{label:"Description"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}}),e._v(" "),s("crud-button",{attrs:{type:"is-success"},on:{click:e.save}},[e._v("Save")])],1)])])])],1)},staticRenderFns:[]},y=s("VU/8")(m,v,!1,null,null,null).exports,g={name:"VehicleTypeIndex",data:function(){return{listData:[],columns:[{field:"id",label:"ID",width:"40",numeric:!0},{field:"name",label:"Name"},{field:"desc",label:"Description"}]}},created:function(){var e=this;this.$nextTick(function(){e.updateGrid()})},methods:{toForm:function(){this.$router.push({path:"/vehicleTypes/form"})},updateGrid:function(){var e=this,t=this.$loading.open({container:null});this.axios("/vehicleTypes").then(function(t){t.data.success&&(e.listData=t.data.model)}).finally(function(){t.close()})},editVehicleType:function(e){var t=this,s=this.$refs.listVehicleTypes.getSelected();s.id?this.$router.push({path:"/vehicleTypes/form",query:{id:s.id}}):_.debounce(function(){t.$toast.open({message:"You need to select a type",type:"is-warning",position:"is-bottom"})},500)()},deleteVehicleType:function(){var e=this,t=this.$refs.listVehicleTypes.getSelected();t.id?this.$dialog.confirm({message:"Delete type ("+t.name+")?",onConfirm:function(){var s=e.$loading.open({container:null});e.axios.delete("vehicleTypes/"+t.id).then(function(t){t.data.success?(e.$toast.open({message:"Type deleted successfully",type:"is-success"}),e.$refs.listVehicleTypes.clearSelected(),e.updateGrid()):e.$toast.open({message:response.data.message,type:"is-danger",position:"is-bottom"})}).catch(function(t){e.$toast.open({message:t.response.data.message,type:"is-danger",position:"is-bottom"})}).finally(function(){s.close()})}}):_.debounce(function(){e.$toast.open({message:"You need to select a type",type:"is-warning",position:"is-bottom"})},500)()}}},b={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"section"},[s("crud-section-container",[s("h1",{staticClass:"title"},[e._v("Vehicle Types")]),e._v(" "),s("h2",{staticClass:"subtitle"},[e._v("\n      All types of vehicles registered in database\n      "),s("crud-button",{attrs:{type:"is-primary"},on:{click:e.toForm}},[e._v("Add new type")])],1)]),e._v(" "),s("crud-button",{attrs:{type:"is-info"},on:{click:e.editVehicleType}},[s("span",[e._v("Edit selected")])]),e._v(" "),s("crud-button",{attrs:{type:"is-danger"},on:{click:e.deleteVehicleType}},[s("span",[e._v("Delete selected")])]),e._v(" "),s("crud-table",{ref:"listVehicleTypes",staticStyle:{"margin-top":"10px"},attrs:{focusable:"","list-data":e.listData,columns:e.columns}})],1)},staticRenderFns:[]},$=s("VU/8")(g,b,!1,null,null,null).exports,V={props:{listData:{type:Array,default:null},columns:{type:Array,default:null},focusable:{type:Boolean,default:!1}},data:function(){return{selected:{}}},methods:{getSelected:function(){return this.selected},clearSelected:function(){this.selected={}}}},T={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-table",{attrs:{focusable:"",data:e.listData,columns:e.columns,selected:e.selected},on:{"update:selected":function(t){e.selected=t}}})},staticRenderFns:[]},x=s("VU/8")(V,T,!1,null,null,null).exports,C={props:{type:{type:String,default:null},clazz:{type:String,default:null}},methods:{click:function(){this.$emit("click")}}},k={render:function(){var e=this.$createElement;return(this._self._c||e)("b-button",{class:this.clazz,attrs:{rounded:"",type:this.type},on:{click:this.click}},[this._t("default")],2)},staticRenderFns:[]},S=s("VU/8")(C,k,!1,null,null,null).exports,F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"section"},[t("div",{staticClass:"container"},[this._t("default")],2)])},staticRenderFns:[]},D=s("VU/8")({},F,!1,null,null,null).exports,U={props:{label:String},methods:{updateValue:function(e){this.$emit("input",e)}}},w={mixins:[U],props:{value:[String,Number,Boolean]}},E={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-field",{attrs:{label:e.label}},[s("b-input",{attrs:{value:e.value},on:{input:function(t){return e.updateValue(t)}}})],1)},staticRenderFns:[]},R=s("VU/8")(w,E,!1,null,null,null).exports,A={mixins:[U],props:{listData:{type:Array},valueOption:{type:[String,Number]},labelOption:{type:String},placeholder:String,value:[String,Number,Boolean]}},I={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-field",{attrs:{label:e.label}},[s("b-select",{attrs:{placeholder:e.placeholder,value:e.value},on:{input:function(t){return e.updateValue(t)}}},e._l(e.listData,function(t){return s("option",{key:t[e.valueOption],domProps:{value:t[e.valueOption]}},[e._v("\n      "+e._s(t[e.labelOption])+"\n    ")])}),0)],1)},staticRenderFns:[]},N=s("VU/8")(A,I,!1,null,null,null).exports,P={components:{CrudTable:x,CrudButton:S,CrudSectionContainer:D,CrudInput:R,CrudSelect:N},install:function(e,t){e.component("crud-table",x),e.component("crud-button",S),e.component("crud-section-container",D),e.component("crud-input",R),e.component("crud-select",N)}};n.default.use(c.a,{defaultContainerElement:"#content"}),n.default.use(l.a),n.default.use(P);var B=[{path:"/vehicles",name:"VehicleIndex",component:d},{path:"/vehicles/form",name:"VehicleForm",component:f},{path:"/vehicleTypes",name:"VehicleTypeIndex",component:$},{path:"/vehicleTypes/form",name:"VehicleTypeForm",component:y}],O=new l.a({routes:B}),G=s("mtWM"),q=s.n(G),z=s("Rf8U"),Y=s.n(z),H=s("NETs"),K=s.n(H);n.default.config.productionTip=!1;var M=window.location.href.split("/")[0]+"/api/v1/";n.default.use(Y.a,q.a.create({baseURL:M})),n.default.use(K.a),new n.default({el:"#app",router:O,components:{App:a},template:"<App/>"})},"bx+k":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.811c9aaf00dd9c9316ed.js.map